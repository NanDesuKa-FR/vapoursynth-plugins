include ../global.inc

ACLOCAL_AMFLAGS = -I m4

lib_LTLIBRARIES = libnnedi3.la

yasm_verbose = $(yasm_verbose_$(V))
yasm_verbose_ = $(yasm_verbose_$(AM_DEFAULT_VERBOSITY))
yasm_verbose_0 = @echo "  YASM    " $@;

.asm.lo:
	$(yasm_verbose)$(LIBTOOL) $(AM_V_lt) --mode=compile --tag=CC $(AS) $(ASFLAGS) -o $@ $< -prefer-non-pic

libnnedi3_la_SOURCES = src/cpufeatures.c \
					   src/cpufeatures.h \
					   src/nnedi3.c \
					   src/asm/binary1.asm \
					   src/asm/cpu-a.asm \
					   src/asm/nnedi3.asm

libnnedi3_la_CFLAGS = -msse2 -mfpmath=sse

libnnedi3_la_LIBADD = -lm

libnnedi3_la_LDFLAGS = $(XGLOBAL_LDFLAGS)

